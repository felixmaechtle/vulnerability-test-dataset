import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Savepoint;
import java.sql.Statement;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    PrintWriter var3 = var1.getWriter();
    String var4 = var0.getParameter("username");
    if (var4 == null) return;
    if (var4.trim().isEmpty()) return;
    Connection var11 = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/bank", "root", "");
    if (var11 == null) return;
    Statement var12 = var11.createStatement();
    StringBuilder var10000 = new StringBuilder();
    String var15 = var10000.append("select tbAccount.* from tbAccount,tbClient where    tbAccount.cid=tbClient.cid   and tbClient.username='").append(var4).append("' ").append("   and balance <> 0").toString();
    ResultSet var16 = var12.executeQuery(var15);
    var11.setAutoCommit(false);
    Savepoint var17 = var11.setSavepoint();
    var10000 = new StringBuilder();
    var15 = var10000.append("delete from tbTransaction where aid IN (select aid from tbAccount,tbClient where   tbAccount.cid=tbClient.cid   and tbClient.username='").append(var4).append("' )").toString();
    var12.executeUpdate(var15);
    var10000 = new StringBuilder();
    var15 = var10000.append("delete from tbAccount where cid= (select cid from tbClient where    username='").append(var4).append("' )").toString();
    var12.executeUpdate(var15);
    var10000 = new StringBuilder();
    var15 = var10000.append("delete from tbClient where    username='").append(var4).append("' ").toString();
    int var24 = var12.executeUpdate(var15);
    if (var24 > 0) {
        var11.setAutoCommit(true);
        if (var11 != null) { {}
}
        StringBuffer var28 = new StringBuffer("[");
        StringBuffer var27 = var28;
        var27.append("{\"result\":\"").append("fail").append("\"},");
        var27.deleteCharAt(var27.length() - 1);
        var27.append("]");
        var3.print(var27);
    }
}

}