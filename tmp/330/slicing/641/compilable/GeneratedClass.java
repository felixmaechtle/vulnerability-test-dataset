import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Savepoint;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    Object var6 = null;
    String var12 = var0.getParameter("id");
    String var13 = var0.getParameter("recipient");
    var13 = var13.trim();
    String var14 = var0.getParameter("amount");
    var14 = var14.trim();
    if (var13.length() == 0) return;
    if (var14.length() == 0) return;
    double var16 = Double.parseDouble(var14);
    var13 = var13;
    var12 = var12;
    if (var12 == null) {
        while (true) {
            if (var12.trim().isEmpty()) return;
            if (false) { {}
}
            var13 = var13;
            if (var13 == null) {
                if (false) {
                    if (var6 != null) {
                        if (var6 == null) return;
                        ((Connection) var6).setAutoCommit(false);
                        Savepoint var19 = ((Connection) var6).setSavepoint();
                        PreparedStatement var24 = ((Connection) var6).prepareStatement("select tbAccount.aid,balance,isactive,fname,mname,lname from tbAccount, tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
                        var24.setString(1, var12);
                        ResultSet var25 = var24.executeQuery();
                        if (var25.next()) {
                            int var26 = var25.getInt("aid");
                            double var27 = var25.getDouble("balance");
                            if (!(var27 < var16)) {
                                PreparedStatement var36 = ((Connection) var6).prepareStatement("select aid,isactive, fname,mname,lname from tbAccount,tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
                                var36.setString(1, var13);
                                ResultSet var37 = var36.executeQuery();
                                if (var37.next()) {
                                    PreparedStatement var45 = ((Connection) var6).prepareStatement("update tbAccount set balance = balance - ?  where balance >= ?  and acnumber = ?  and isactive=TRUE ");
                                    var45.setDouble(1, var16);
                                    var45.setDouble(2, var16);
                                    PreparedStatement var47 = ((Connection) var6).prepareStatement("update tbAccount set balance = balance + ?  where acnumber = ?  and isactive=TRUE ");
                                    var47.setDouble(1, var16);
                                    var47.setString(2, var13);
                                    int var48 = var47.executeUpdate();
                                    if (var48 <= 0) {
                                        ((Connection) var6).rollback(var19);
                                        boolean var49 = false;
                                        ((Connection) var6).setAutoCommit(true);
                                        if (var6 != null) { {}
}
                                        if (var49) { {}
}
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

}