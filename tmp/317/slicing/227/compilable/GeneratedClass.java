import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    HttpSession var3 = var0.getSession();
    int var13 = Integer.parseInt(var0.getParameter("accountType"));
    String var14 = (String) (Object) var3.getAttribute("username");
    PrintWriter var15 = var1.getWriter();
    if (var14 == null) return;
    if (var14.trim().isEmpty()) {
        Connection var19 = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/bank", "root", "");
        if (var19 == null) return;
        PreparedStatement var20 = var19.prepareStatement("select cid from tbClient where username=? ");
        var20.setString(1, var14);
        ResultSet var21 = var20.executeQuery();
        if (var21.next()) {
            int var22 = var21.getInt("cid");
            int var23 = var22 * 1000 + (int) (Math.random() * 900.0);
            String var24 = String.valueOf(var23);
            PreparedStatement var25 = var19.prepareStatement("insert into tbAccount(cid,typeid,acnumber,balance) values(?,?,?,?)");
            var25.setInt(1, var22);
            var25.setInt(2, var13);
            var25.setString(3, var24);
            var25.setDouble(4, 0.0);
            int var26 = var25.executeUpdate();
            if (var26 <= 0) {
                if (var19 != null) { {}
}
                var15.print("<head><title>Processing...</title></head>");
                var15.print("<script>alert('Account opened failed. Please call our customer service.');</script>");
            }
        }
    }
}

}