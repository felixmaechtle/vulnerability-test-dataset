import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Savepoint;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    PrintWriter var3 = var1.getWriter();
    String var4 = var0.getParameter("accountNumber");
    if (var4 == null) return;
    if (var4.trim().isEmpty()) return;
    Connection var15 = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/bank", "root", "");
    if (var15 == null) return;
    String var16 = "select * from tbAccount where    acnumber= ?    and balance <> 0";
    PreparedStatement var17 = var15.prepareStatement(var16);
    var17.setString(1, var4);
    var15.setAutoCommit(false);
    Savepoint var20 = var15.setSavepoint();
    String var21 = "delete from tbTransaction where aid = (select aid from tbAccount where    acnumber = ? )";
    PreparedStatement var22 = var15.prepareStatement(var21);
    var22.setString(1, var4);
    var22.executeUpdate();
    var21 = "delete from tbAccount where acnumber = ? ";
    var22 = var15.prepareStatement(var21);
    var15.commit();
    var15.setAutoCommit(true);
    boolean var24 = false;
    if (var15 != null) { {}
}
    StringBuffer var10000 = new StringBuffer("[");
    StringBuffer var26 = var10000;
    if (var24) {
        var26.append("{\"result\":\"").append("success").append("\"},");
        var26.deleteCharAt(var26.length() - 1);
        var26.append("]");
        var3.print(var26);
    }
}

}