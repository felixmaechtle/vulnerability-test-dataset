import beans.BeanCitaMedica;
import com.google.gson.Gson;
import dao.factory.DAOFactory;
import dao.interfaces.I_CM;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    String var3 = var0.getParameter("key");
    String var5 = var0.getParameter("idServ");
    String var7 = var0.getParameter("idMed");
    String var9 = var0.getParameter("idCita");
    String var11 = var0.getParameter("fecha");
    String var12 = var0.getParameter("idPac");
    int var13 = Integer.parseInt(var12);
    PrintWriter var20 = var1.getWriter();
    DAOFactory var22 = DAOFactory.getDaoFactory(DAOFactory.MySql);
    I_CM var23 = var22.getCMDao();
    List var29 = var23.listarCM(var13);
    ArrayList var10001 = new ArrayList();
    ArrayList var30 = var10001;
    Iterator var25 = var29.iterator();
    if (var25.hasNext()) {
        BeanCitaMedica var26 = (BeanCitaMedica) (Object) var25.next();
        HashMap var32 = new HashMap();
        HashMap var31 = var32;
        var31.put("idCita", String.valueOf(var26.getIdCita()));
        var31.put("idServ", String.valueOf(var26.getIdServ()));
        var31.put("nomServ", var26.getNomServ());
        var31.put("costo", String.valueOf(var26.getCosto()));
        var31.put("idMed", String.valueOf(var26.getIdMed()));
        var31.put("nomMed", var26.getNomMed());
        var31.put("fecha", var26.getFecha());
        var30.add(var31);
    }
    var1.setContentType("application/json");
    var1.setCharacterEncoding("UTF-8");
    PrintWriter var33 = var1.getWriter();
    Gson var10002 = new Gson();
    String var34 = var10002.toJson(var30);
    var33.write(var34);
}

}