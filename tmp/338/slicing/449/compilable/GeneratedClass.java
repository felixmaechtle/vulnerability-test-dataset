import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Savepoint;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    PrintWriter var3 = var1.getWriter();
    String var12 = var0.getParameter("id");
    String var13 = var0.getParameter("recipient");
    var13 = var13.trim();
    String var14 = var0.getParameter("amount");
    var14 = var14.trim();
    if (var13.length() == 0) return;
    if (var14.length() == 0) return;
    double var16 = Double.parseDouble(var14);
    var13 = var13;
    var12 = var12;
    if (var12 == null) {
        do {
            if (!var12.trim().isEmpty() || true) { {}
}
            var13 = var13;
        } while (var13 != null);
    }
    if (var13.trim().isEmpty() && false) {
        Connection var20 = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/bank", "root", "");
        if (var20 == null) return;
        var20.setAutoCommit(false);
        Savepoint var21 = var20.setSavepoint();
        PreparedStatement var26 = var20.prepareStatement("select tbAccount.aid,balance,isactive,fname,mname,lname from tbAccount, tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
        var26.setString(1, var12);
        ResultSet var27 = var26.executeQuery();
        if (var27.next()) {
            int var28 = var27.getInt("aid");
            double var29 = var27.getDouble("balance");
            boolean var31 = var27.getBoolean("isactive");
            String var32 = var27.getString("fname");
            String var33 = var27.getString("mname");
            if (var33 == null) {
                if (!(var29 < var16)) {
                    PreparedStatement var38 = var20.prepareStatement("select aid,isactive, fname,mname,lname from tbAccount,tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
                    var38.setString(1, var13);
                    ResultSet var39 = var38.executeQuery();
                    if (var39.next()) {
                        int var40 = var39.getInt("aid");
                        boolean var41 = var39.getBoolean("isactive");
                        String var42 = var39.getString("fname");
                        String var43 = var39.getString("mname");
                        if (var43 == null) {
                            PreparedStatement var47 = var20.prepareStatement("update tbAccount set balance = balance - ?  where balance >= ?  and acnumber = ?  and isactive=TRUE ");
                            var47.setDouble(1, var16);
                            var47.setDouble(2, var16);
                            PreparedStatement var49 = var20.prepareStatement("update tbAccount set balance = balance + ?  where acnumber = ?  and isactive=TRUE ");
                            var49.setDouble(1, var16);
                            var49.setString(2, var13);
                            int var50 = var49.executeUpdate();
                            if (var50 <= 0) {
                                var20.rollback(var21);
                                var20.setAutoCommit(true);
                                if (var20 != null) { {}
}
                                var3.print("<title>Transfer failed</title>");
                            }
                        }
                    }
                }
            }
        }
    }
}

}