import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Savepoint;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    Object var6 = null;
    String var12 = var0.getParameter("id");
    String var13 = var0.getParameter("recipient");
    var13 = var13.trim();
    String var14 = var0.getParameter("amount");
    var14 = var14.trim();
    String var15 = var0.getParameter("description");
    if (var13.length() == 0) return;
    if (var14.length() == 0) return;
    double var16 = Double.parseDouble(var14);
    if (var12 == null && false && var13 == null && false) {
        if (var6 != null) {
            if (var6 == null) return;
            ((Connection) var6).setAutoCommit(false);
            Savepoint var18 = ((Connection) var6).setSavepoint();
            PreparedStatement var23 = ((Connection) var6).prepareStatement("select tbAccount.aid,balance,isactive,fname,mname,lname from tbAccount, tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
            var23.setString(1, var12);
            ResultSet var24 = var23.executeQuery();
            if (var24.next()) {
                int var25 = var24.getInt("aid");
                double var26 = var24.getDouble("balance");
                boolean var28 = var24.getBoolean("isactive");
                String var29 = var24.getString("fname");
                String var30 = var24.getString("mname");
                String var31 = var24.getString("lname");
                StringBuilder var10000 = new StringBuilder();
                var10000 = var10000.append(var29).append(" ");
                if (var30 == null) {
                    var10000.append("").append(" ").append(var31).toString();
                    if (!(var26 < var16)) {
                        PreparedStatement var35 = ((Connection) var6).prepareStatement("select aid,isactive, fname,mname,lname from tbAccount,tbClient  where acnumber= ? and tbAccount.cid=tbClient.cid");
                        var35.setString(1, var13);
                        ResultSet var36 = var35.executeQuery();
                        if (var36.next()) {
                            int var37 = var36.getInt("aid");
                            boolean var38 = var36.getBoolean("isactive");
                            String var39 = var36.getString("fname");
                            String var40 = var36.getString("mname");
                            String var41 = var36.getString("lname");
                            var10000 = new StringBuilder();
                            var10000 = var10000.append(var39).append(" ");
                            if (var40 == null) {
                                String var34 = var10000.append("").append(" ").append(var41).toString();
                                PreparedStatement var44 = ((Connection) var6).prepareStatement("update tbAccount set balance = balance - ?  where balance >= ?  and acnumber = ?  and isactive=TRUE ");
                                var44.setDouble(1, var16);
                                var44.setDouble(2, var16);
                                var44.setString(3, var12);
                                PreparedStatement var46 = ((Connection) var6).prepareStatement("update tbAccount set balance = balance + ?  where acnumber = ?  and isactive=TRUE ");
                                var46.setDouble(1, var16);
                                var46.setString(2, var13);
                                int var47 = var46.executeUpdate();
                                SimpleDateFormat var56 = new SimpleDateFormat("yyyy-MM-dd");
                                SimpleDateFormat var58 = var56;
                                Date var57 = new Date();
                                Date var59 = var57;
                                String var50 = var58.format(var59);
                                Object[] var10001 = new Object[] { Integer.valueOf(var25), Integer.valueOf(4), Double.valueOf(var16), Double.valueOf(var16), var13, var34, var50, var15 };
                                String var51 = String.format("insert into tbTransaction(aid,trtype,amount,description)       values( %d, \t\t\t%d, \t\t\t%f, 'Transfer out %.2f dollars to %s(%s) on %s. MEMO: %s' ) ", var10001);
                                int var52 = var46.executeUpdate(var51);
                                var10001 = new Object[] { Integer.valueOf(var37), Integer.valueOf(3), Double.valueOf(var16), Double.valueOf(var16), var12, var34, var50, var15 };
                                String var53 = String.format("insert into tbTransaction(aid,trtype,amount,description)  values( %d,  %d, \t%f, 'Transfer in %.2f dollars from %s(%s) on %s. MEMO: %s' ) ", var10001);
                                int var54 = var46.executeUpdate(var53);
                                if (var54 <= 0) {
                                    ((Connection) var6).rollback(var18);
                                    boolean var55 = false;
                                    ((Connection) var6).setAutoCommit(true);
                                    if (var6 != null) { {}
}
                                    if (var55) { {}
}
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

}