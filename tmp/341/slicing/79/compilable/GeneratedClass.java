import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Savepoint;
import java.sql.Statement;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    String var4 = var0.getParameter("username");
    Object var8 = null;
    if (var4 == null) return;
    if (var4.trim().isEmpty()) return;
    if (var8 != null) {
        if (var8 == null) return;
        Statement var11 = ((Connection) var8).createStatement();
        StringBuilder var10000 = new StringBuilder();
        String var14 = var10000.append("select tbAccount.* from tbAccount,tbClient where    tbAccount.cid=tbClient.cid   and tbClient.username='").append(var4).append("' ").append("   and balance <> 0").toString();
        ResultSet var15 = var11.executeQuery(var14);
        ((Connection) var8).setAutoCommit(false);
        Savepoint var16 = ((Connection) var8).setSavepoint();
        var10000 = new StringBuilder();
        var14 = var10000.append("delete from tbTransaction where aid IN (select aid from tbAccount,tbClient where   tbAccount.cid=tbClient.cid   and tbClient.username='").append(var4).append("' )").toString();
        var11.executeUpdate(var14);
        var10000 = new StringBuilder();
        var14 = var10000.append("delete from tbAccount where cid= (select cid from tbClient where    username='").append(var4).append("' )").toString();
        var11.executeUpdate(var14);
        var10000 = new StringBuilder();
        var14 = var10000.append("delete from tbClient where    username='").append(var4).append("' ").toString();
        int var23 = var11.executeUpdate(var14);
        if (var23 > 0) {
            ((Connection) var8).setAutoCommit(true);
            if (var8 != null) { {}
}
            StringBuffer var27 = new StringBuffer("[");
            StringBuffer var26 = var27;
            var26.append("{\"result\":\"").append("fail").append("\"},");
        }
    }
}

}