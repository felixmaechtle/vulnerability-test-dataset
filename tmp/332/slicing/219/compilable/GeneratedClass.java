import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
public class GeneratedClass {
public static void trace(HttpServletRequest var0, HttpServletResponse var1) throws Throwable {
    HttpSession var3 = var0.getSession();
    int var13 = Integer.parseInt(var0.getParameter("accountType"));
    String var14 = (String) (Object) var3.getAttribute("username");
    PrintWriter var15 = var1.getWriter();
    if (var14 == null) {
        Connection var18 = DriverManager.getConnection("jdbc:mysql://127.0.0.1:3306/bank", "root", "");
        if (var18 == null) return;
        PreparedStatement var19 = var18.prepareStatement("select cid from tbClient where username=? ");
        var19.setString(1, var14);
        ResultSet var20 = var19.executeQuery();
        if (var20.next()) {
            int var21 = var20.getInt("cid");
            int var22 = var21 * 1000 + (int) (Math.random() * 900.0);
            String var23 = String.valueOf(var22);
            PreparedStatement var24 = var18.prepareStatement("insert into tbAccount(cid,typeid,acnumber,balance) values(?,?,?,?)");
            var24.setInt(1, var21);
            var24.setInt(2, var13);
            var24.setString(3, var23);
            var24.setDouble(4, 0.0);
            int var25 = var24.executeUpdate();
            if (var25 <= 0) {
                Object var26 = null;
                if (var18 != null) { {}
}
                var15.print("<head><title>Processing...</title></head>");
                if (var26 != null) {
                    var15.print("<script>alert('Account opened successfully.');</script>");
                }
            }
        }
    }
}

}